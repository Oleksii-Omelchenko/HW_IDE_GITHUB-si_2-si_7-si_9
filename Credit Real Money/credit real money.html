<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="http://194.6.232.158:81/" />
<title>начало</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">начало</td></tr>
</thead><tbody>
<tr>
	<td>type</td>
	<td>css=#username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>css=#password</td>
	<td>123</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=#logIn</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>Players</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>css=#723a925886__email</td>
	<td>11@mail.ru</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=search</td>
	<td></td>
</tr>
<tr>
	<td>storeText</td>
	<td>XPath=//parent::tbody/child::tr[position()=2]/child::td[position()=6]</td>
	<td>balance1</td>
</tr>
<tr>
	<td>echo</td>
	<td>${balance1}</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'${balance1}'.split('.')[0]</td>
	<td>var1</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'${balance1}'.split('.')[1]</td>
	<td>var2</td>
</tr>
<tr>
	<td>echo</td>
	<td>${var1}</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>${var2}</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=img[alt=&quot;Edit&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>Players - Edit</td>
	<td></td>
</tr>
<tr>
	<td>storeText</td>
	<td>XPath=//td[contains(text(),'Real Money')]/parent::tr/child::td[contains(text(),'$')]</td>
	<td>real1</td>
</tr>
<tr>
	<td>echo</td>
	<td>${real1}</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>XPath=//td[contains(text(),'Real Money')]/parent::tr/child::td[4]/a</td>
	<td></td>
</tr>
<tr>
	<td>waitForPopUp</td>
	<td></td>
	<td>50000</td>
</tr>
<tr>
	<td>selectWindow</td>
	<td>title=Transactions - Insert</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>Transactions - Insert</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>css=#f6ffb4a0fec__account</td>
	<td>Real Money</td>
</tr>
<tr>
	<td>select</td>
	<td>css=#f6ffb4a0fec__direction</td>
	<td>Credit</td>
</tr>
<tr>
	<td>type</td>
	<td>css=#f6ffb4a0fec__amount</td>
	<td>100</td>
</tr>
<tr>
	<td>type</td>
	<td>css=#f6ffb4a0fec__notes</td>
	<td>пополнение Real Money</td>
</tr>
<tr>
	<td>click</td>
	<td>css=.form_actions_container&gt;input[value=&quot;Save&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>selectWindow</td>
	<td>title=Players - Edit</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>Players - Edit</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>&quot;${real1}&quot;.split(&quot;$&quot;)[0]</td>
	<td>first</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>&quot;${real1}&quot;.split(&quot;$&quot;)[1]</td>
	<td>last</td>
</tr>
<tr>
	<td>echo</td>
	<td>${last}</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>storedVars['last']=${last}+100.00</td>
	<td>real2</td>
</tr>
<tr>
	<td>echo</td>
	<td>${real2}</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>$${real2}.00</td>
	<td></td>
</tr>
<tr>
	<td>verifyText</td>
	<td>XPath=//td[contains(text(),'Real Money')]/parent::tr/child::td[contains(text(),'$')]</td>
	<td>$${real2}.00</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>XPath=//input[@name='button_save']</td>
	<td></td>
</tr>
<tr>
	<td>verifyTitle</td>
	<td>Players</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>storedVars['var1']=${var1}+100</td>
	<td>balance2</td>
</tr>
<tr>
	<td>echo</td>
	<td>${balance2}</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>${balance2}.${var2}</td>
	<td></td>
</tr>
<tr>
	<td>verifyText</td>
	<td>XPath=//parent::tbody/child::tr[position()=2]/child::td[position()=6]</td>
	<td>${balance2}.${var2}</td>
</tr>
<tr>
	<td>verifyEval</td>
	<td>'${real2}'=='${balance2}'</td>
	<td>true</td>
</tr>
<tr>
	<td>click</td>
	<td>XPath=//a[img [@alt='logout']][span[@class='logout']]</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
